<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8" />
    <title>Brainy Autobio</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <style>
      canvas{background: url('Brainy Autobio/BrainyAutobio.png') no-repeat calc(50% + 10px) 15vh fixed;background-size: 513px; border: 1px none silver;  }
      @media (min-height: 300px) and (max-height: 350px) { canvas { background-position-y: -1vh } }
      @media (min-height: 400px) and (max-height: 450px) { canvas { background-position-y: 5vh } }
      @media (min-height: 450px) and (max-height: 500px) { canvas { background-position-y: 6vh } }
      @media (min-height: 500px) and (max-height: 550px) { canvas { background-position-y: 7.5vh } }
      @media (min-height: 550px) and (max-height: 600px) { canvas { background-position-y: 8.5vh } }
      @media (min-height: 600px) and (max-height: 650px) { canvas { background-position-y: 10vh } }
      @media (min-height: 650px) and (max-height: 700px) { canvas { background-position-y: 12vh } }
      @media (min-height: 700px) and (max-height: 750px) { canvas { background-position-y: 13vh } }
      @media (min-height: 750px) and (max-height: 800px) { canvas { background-position-y: 13.5vh } }
      @media (min-height: 800px) and (max-height: 850px) { canvas { background-position-y: 14.5vh } }
    </style>
    <script>
var e,Attraction,Behaviour,Collision,ConstantForce,EdgeBounce,EdgeWrap,Euler,ImprovedEuler,Integrator,Particle,Physics,Random,Spring,Vector,Verlet,Wander,namespace,Sketch=function(){"use strict";var t="E LN10 LN2 LOG2E LOG10E PI SQRT1_2 SQRT2 abs acos asin atan ceil cos exp floor log round sin sqrt tan atan2 pow max min".split(" "),n="__hasSketch",i=Math,o="canvas",s="webgl",r=document,a=window,l=[],c={fullscreen:!0,autostart:!0,autoclear:!0,autopause:!0,container:r.body,interval:2,globals:!0,retina:!0,type:o},d={8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",27:"ESCAPE",32:"SPACE",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"};function u(t){return"function"==typeof t}function h(t){return"string"==typeof t}function p(t,n,i){for(var o in n)(i||!t.hasOwnProperty(o))&&(t[o]=n[o]);return t}function f(t,n){return function(){t.apply(n,arguments)}}for(var m,g,b={CANVAS:o,WEB_GL:s,WEBGL:s,DOM:"dom",instances:l,install:function(o){if(!o[n]){for(var s=0;s<t.length;s++)o[t[s]]=i[t[s]];p(o,{TWO_PI:2*i.PI,HALF_PI:i.PI/2,QUATER_PI:i.PI/4,random:function(t,n){var o,s;return(o=t,"[object Array]"==Object.prototype.toString.call(o))?t[~~(i.random()*t.length)]:("number"!=typeof(s=n)&&(n=t||1,t=0),t+i.random()*(n-t))},lerp:function(t,n,i){return t+i*(n-t)},map:function(t,n,i,o,s){return(t-n)/(i-n)*(s-o)+o}}),o[n]=!0}},create:function(t){return(t=p(t||{},c)).globals&&b.install(self),m=t.element=t.element||r.createElement("dom"===t.type?"div":"canvas"),g=t.context=t.context||function(){switch(t.type){case o:return m.getContext("2d",t);case s:return m.getContext("webgl",t)||m.getContext("experimental-webgl",t);case"dom":return m.canvas=m}}(),t.container.appendChild(m),b.augment(g,t)},augment:function(t,n){return(n=p(n||{},c)).element=t.canvas||t,n.element.className+=" sketch",p(t,n,!0),function t(n){var i,s,c,m,g,b,$,y,v,x,_,E,A,k,S,T=0,R=[],L=!1,O=a.devicePixelRatio,N="dom"==n.type,B=n.type==o,V={x:0,y:0,ox:0,oy:0,dx:0,dy:0},I=[n.element,U,"mousedown","touchstart",U,"mousemove","touchmove",U,"mouseup","touchend",U,"click",r,function t(i){var o;E=i.keyCode,A="keyup"==i.type,D[E]=D[d[o=E]||String.fromCharCode(o)]=!A,P(n[i.type],i)},"keydown","keyup",a,function t(i){n.autopause&&("blur"==i.type?M:G)(),P(n[i.type],i)},"focus","blur",H,"resize"],D={};for(E in d)D[d[E]]=!1;function P(t){u(t)&&t.apply(n,[].splice.call(arguments,1))}function F(t){for(b=0;b<I.length;b++)h(v=I[b])?c[(t?"add":"remove")+"EventListener"].call(c,v,s,!1):u(v)?s=v:c=v}function H(){c=N?n.style:n.canvas,$=N?"px":"",n.fullscreen&&(n.height=a.innerHeight,n.width=a.innerWidth),c.height=n.height+$,c.width=n.width+$,n.retina&&B&&O&&(c.height=n.height*O,c.width=n.width*O,c.style.height=n.height+"px",c.style.width=n.width+"px",n.scale(O,O)),L&&P(n.resize)}function z(t,i){var o,s;return o=t,g=(s=n.element).getBoundingClientRect(),o.x=o.pageX-g.left-a.scrollX,o.y=o.pageY-g.top-a.scrollY,(i=i||{}).ox=i.x||t.x,i.oy=i.y||t.y,i.x=t.x,i.y=t.y,i.dx=i.x-i.ox,i.dy=i.y-i.oy,i}function U(t){for(t=function t(n){if(n.preventDefault(),(x=function t(n){var i={};for(var o in n)u(n[o])?i[o]=f(n[o],n):i[o]=n[o];return i}(n)).originalEvent=n,x.touches)for(b=0,R.length=x.touches.length;b<x.touches.length;b++)R[b]=z(x.touches[b],R[b]);else R.length=0,R[0]=z(x,V);return p(V,R[0],!0),x}(t),k=(S=I.indexOf(_=t.type))-1,n.dragging=!!/down|start/.test(_)||!/up|end/.test(_)&&n.dragging;k;)h(I[k])?P(n[I[k--]],t):h(I[S])?P(n[I[S++]],t):k=0}function G(){n.now=+new Date,n.running=!0}function M(){n.running=!1}return p(n,{touches:R,mouse:V,keys:D,dragging:!1,running:!1,millis:0,now:NaN,dt:NaN,destroy:function t(){m=n.element.parentNode,b=l.indexOf(n),m&&m.removeChild(n.element),~b&&l.splice(b,1),F(!1),M()},toggle:function t(){(n.running?M:G)()},clear:function t(){B&&n.clearRect(0,0,n.width,n.height)},start:G,stop:M}),l.push(n),n.autostart&&G(),F(!0),H(),function t(){w(i),i=C(t),L||(P(n.setup),L=u(n.setup),P(n.resize)),n.running&&!T&&(n.dt=(y=+new Date)-n.now,n.millis+=n.dt,n.now=y,P(n.update),n.autoclear&&B&&n.clear(),P(n.draw)),T=++T%n.interval}(),n}(t)}},$=["ms","moz","webkit","o"],y=self,v=0,x="AnimationFrame",_="request"+x,E="cancel"+x,C=y[_],w=y[E],A=0;A<$.length&&!C;A++)C=y[$[A]+"Request"+x],w=y[$[A]+"Cancel"+_];return y[_]=C=C||function(t){var n=+new Date,o=i.max(0,16-(n-v)),s=setTimeout(function(){t(n+o)},o);return v=n+o,s},y[E]=w=w||function(t){clearTimeout(t)},b}(),__hasProp={}.hasOwnProperty,__extends=function(t,n){function i(){this.constructor=t}for(var o in n)__hasProp.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};namespace=function(t){var n,i,o,s,r,a,l;for(i=self,r=t.split("."),l=[],o=0,s=r.length;o<s;o++)n=r[o],l.push(i=null!=(a=i[n])?a:i[n]={});return l},function(){var t,n,i,o,s;for(t=0,o=0,s=(i=["ms","moz","webkit","o"]).length;o<s;o++)n=i[o],window.requestAnimationFrame||(window.requestAnimationFrame=window[n+"RequestAnimationFrame"],window.cancelRequestAnimationFrame=window[n+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(n,i){var o,s,r;return o=Math.max(0,16-((s=(new Date).getTime())-r)),setTimeout(function(){return n(t+o)},o),r=s+o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)})}(),(Random=function(t,n){return null==n&&(n=t,t=0),t+Math.random()*(n-t)}).int=function(t,n){return null==n&&(n=t,t=0),Math.floor(t+Math.random()*(n-t))},Random.sign=function(t){return null==t&&(t=.5),Math.random()<t?1:-1},Random.bool=function(t){return null==t&&(t=.5),Math.random()<t},Random.item=function(t){return t[Math.floor(Math.random()*t.length)]},Vector=function(){function t(t,n){this.x=null!=t?t:0,this.y=null!=n?n:0}return t.add=function(n,i){return new t(n.x+i.x,n.y+i.y)},t.sub=function(n,i){return new t(n.x-i.x,n.y-i.y)},t.project=function(t,n){return t.clone().scale(t.dot(n)/t.magSq())},t.prototype.set=function(t,n){return this.x=t,this.y=n,this},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.scale=function(t){return this.x*=t,this.y*=t,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.cross=function(t){return this.x*t.y-this.y*t.x},t.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.magSq=function(){return this.x*this.x+this.y*this.y},t.prototype.dist=function(t){var n,i;return Math.sqrt((n=t.x-this.x)*n+(i=t.y-this.y)*i)},t.prototype.distSq=function(t){var n,i;return(n=t.x-this.x)*n+(i=t.y-this.y)*i},t.prototype.norm=function(){var t;return t=Math.sqrt(this.x*this.x+this.y*this.y),this.x/=t,this.y/=t,this},t.prototype.limit=function(t){var n,i;if((i=this.x*this.x+this.y*this.y)>t*t)return n=Math.sqrt(i),this.x/=n,this.y/=n,this.x*=t,this.y*=t,this},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.clear=function(){return this.x=0,this.y=0,this},t}(),Particle=function(){function t(n){this.mass=null!=n?n:1,this.id="p"+t.GUID++,this.setMass(this.mass),this.setRadius(1),this.fixed=!1,this.behaviours=[],this.pos=new Vector,this.vel=new Vector,this.acc=new Vector,this.old={pos:new Vector,vel:new Vector,acc:new Vector}}return t.GUID=0,t.prototype.moveTo=function(t){return this.pos.copy(t),this.old.pos.copy(t)},t.prototype.setMass=function(t){return this.mass=null!=t?t:1,this.massInv=1/this.mass},t.prototype.setRadius=function(t){return this.radius=null!=t?t:1,this.radiusSq=this.radius*this.radius},t.prototype.update=function(t,n){var i,o,s,r,a;if(!this.fixed){for(r=this.behaviours,a=[],o=0,s=r.length;o<s;o++)i=r[o],a.push(i.apply(this,t,n));return a}},t}(),Spring=function(){function t(t,n,i,o){this.p1=t,this.p2=n,this.restLength=null!=i?i:100,this.stiffness=null!=o?o:1,this._delta=new Vector}return t.prototype.apply=function(){var t,n;if(this._delta.copy(this.p2.pos).sub(this.p1.pos),n=((t=this._delta.mag()+1e-6)-this.restLength)/(t*(this.p1.massInv+this.p2.massInv))*this.stiffness,this.p1.fixed||this.p1.pos.add(this._delta.clone().scale(n*this.p1.massInv)),!this.p2.fixed)return this.p2.pos.add(this._delta.scale(-n*this.p2.massInv))},t}(),Physics=function(){function t(t){this.integrator=null!=t?t:new Euler,this.timestep=1/60,this.viscosity=.005,this.behaviours=[],this._time=0,this._step=0,this._clock=null,this._buffer=0,this._maxSteps=4,this.particles=[],this.springs=[]}return t.prototype.integrate=function(t){var n,i,o,s,r,a,l,c,d,u,h,p,f,m,g;for(i=1-this.viscosity,p=this.particles,o=a=0,d=p.length;a<d;o=++a){for(s=p[o],f=this.behaviours,l=0,u=f.length;l<u;l++)(n=f[l]).apply(s,t,o);s.update(t,o)}for(this.integrator.integrate(this.particles,t,i),m=this.springs,g=[],c=0,h=m.length;c<h;c++)r=m[c],g.push(r.apply());return g},t.prototype.step=function(){var t,n,i,o;if(null==(o=this._clock)&&(this._clock=(new Date).getTime()),!((t=(i=(new Date).getTime())-this._clock)<=0)){for(t*=.001,this._clock=i,this._buffer+=t,n=0;this._buffer>=this.timestep&&++n<this._maxSteps;)this.integrate(this.timestep),this._buffer-=this.timestep,this._time+=this.timestep;return this._step=(new Date).getTime()-i}},t.prototype.destroy=function(){return this.integrator=null,this.particles=null,this.springs=null},t}(),Euler=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.integrate=function(t,n,i){var o,s,r,a,l;for(s=new Vector,l=[],r=0,a=t.length;r<a;r++)(o=t[r]).fixed||(o.old.pos.copy(o.pos),o.acc.scale(o.massInv),s.copy(o.vel),o.vel.add(o.acc.scale(n)),o.pos.add(s.scale(n)),i&&o.vel.scale(i),l.push(o.acc.clear()));return l},n}(Integrator=function(){function t(){}return t.prototype.integrate=function(t,n){},t}()),ImprovedEuler=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.integrate=function(t,n,i){var o,s,r,a,l,c,d;for(o=new Vector,a=new Vector,s=n*n,d=[],l=0,c=t.length;l<c;l++)(r=t[l]).fixed||(r.old.pos.copy(r.pos),r.acc.scale(r.massInv),a.copy(r.vel),o.copy(r.acc),r.pos.add(a.scale(n).add(o.scale(.5*s))),r.vel.add(r.acc.scale(n)),i&&r.vel.scale(i),d.push(r.acc.clear()));return d},n}(Integrator),Verlet=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.integrate=function(t,n,i){var o,s,r,a,l,c;for(r=new Vector,o=n*n,c=[],a=0,l=t.length;a<l;a++)(s=t[a]).fixed||(s.acc.scale(s.massInv),s.vel.copy(s.pos).sub(s.old.pos),i&&s.vel.scale(i),r.copy(s.pos).add(s.vel.add(s.acc.scale(o))),s.old.pos.copy(s.pos),s.pos.copy(r),c.push(s.acc.clear()));return c},n}(Integrator),Attraction=function(t){function n(t,i,o){this.target=null!=t?t:new Vector,this.radius=null!=i?i:1e3,this.strength=null!=o?o:100,this._delta=new Vector,this.setRadius(this.radius),n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.setRadius=function(t){return this.radius=t,this.radiusSq=t*t},n.prototype.apply=function(t,n,i){var o;if(this._delta.copy(this.target).sub(t.pos),(o=this._delta.magSq())<this.radiusSq&&o>1e-6)return this._delta.norm().scale(1-o/this.radiusSq),t.acc.add(this._delta.scale(this.strength))},n}(Behaviour=function(){function t(){this.GUID=t.GUID++,this.interval=1}return t.GUID=0,t.prototype.apply=function(t,n,i){var o,s;return(null!=(s=t[o="__behaviour"+this.GUID])?s:t[o]={counter:0}).counter++},t}()),Collision=function(t){function n(t,i){this.useMass=null==t||t,this.callback=null!=i?i:null,this.pool=[],this._delta=new Vector,n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.apply=function(t,n,i){var o,s,r,a,l,c,d,u,h,p,f,m;for(m=[],r=p=i,f=this.pool.length-1;i<=f?p<=f:p>=f;r=i<=f?++p:--p)(l=this.pool[r])!==t?(this._delta.copy(l.pos).sub(t.pos),(s=this._delta.magSq())<=(h=t.radius+l.radius)*h?(o=Math.sqrt(s),c=t.radius+l.radius-o,c+=.5,a=t.mass+l.mass,d=this.useMass?l.mass/a:.5,u=this.useMass?t.mass/a:.5,t.pos.add(this._delta.clone().norm().scale(-(c*d))),l.pos.add(this._delta.norm().scale(c*u)),m.push("function"==typeof this.callback?this.callback(t,l,c):void 0)):m.push(void 0)):m.push(void 0);return m},n}(Behaviour),ConstantForce=function(t){function n(t){this.force=null!=t?t:new Vector,n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.apply=function(t,n,i){return t.acc.add(this.force)},n}(Behaviour),EdgeBounce=function(t){function n(t,i){this.min=null!=t?t:new Vector,this.max=null!=i?i:new Vector,n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.apply=function(t,n,i){return(t.pos.x-t.radius<this.min.x?t.pos.x=this.min.x+t.radius:t.pos.x+t.radius>this.max.x&&(t.pos.x=this.max.x-t.radius),t.pos.y-t.radius<this.min.y)?t.pos.y=this.min.y+t.radius:t.pos.y+t.radius>this.max.y?t.pos.y=this.max.y-t.radius:void 0},n}(Behaviour),EdgeWrap=function(t){function n(t,i){this.min=null!=t?t:new Vector,this.max=null!=i?i:new Vector,n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.apply=function(t,n,i){return(t.pos.x+t.radius<this.min.x?(t.pos.x=this.max.x+t.radius,t.old.pos.x=t.pos.x):t.pos.x-t.radius>this.max.x&&(t.pos.x=this.min.x-t.radius,t.old.pos.x=t.pos.x),t.pos.y+t.radius<this.min.y)?(t.pos.y=this.max.y+t.radius,t.old.pos.y=t.pos.y):t.pos.y-t.radius>this.max.y?(t.pos.y=this.min.y-t.radius,t.old.pos.y=t.pos.y):void 0},n}(Behaviour),Wander=function(t){function n(t,i,o){this.jitter=null!=t?t:.5,this.radius=null!=i?i:100,this.strength=null!=o?o:1,this.theta=Math.random()*Math.PI*2,n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.apply=function(t,n,i){return this.theta+=(Math.random()-.5)*this.jitter*Math.PI*2,t.acc.x+=Math.cos(this.theta)*this.radius*this.strength,t.acc.y+=Math.sin(this.theta)*this.radius*this.strength},n}(Behaviour);var dat=dat||{};dat.gui=dat.gui||{},dat.utils=dat.utils||{},dat.controllers=dat.controllers||{},dat.dom=dat.dom||{},dat.color=dat.color||{},dat.utils.css={load:function(t,n){var n=n||document,i=n.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=t,n.getElementsByTagName("head")[0].appendChild(i)},inject:function(t,n){var n=n||document,i=document.createElement("style");i.type="text/css",i.innerHTML=t,n.getElementsByTagName("head")[0].appendChild(i)}},dat.utils.common=function(){var t=Array.prototype.forEach,n=Array.prototype.slice;return{BREAK:{},extend:function(t){return this.each(n.call(arguments,1),function(n){for(var i in n)this.isUndefined(n[i])||(t[i]=n[i])},this),t},defaults:function(t){return this.each(n.call(arguments,1),function(n){for(var i in n)this.isUndefined(t[i])&&(t[i]=n[i])},this),t},compose:function(){var t=n.call(arguments);return function(){for(var i=n.call(arguments),o=t.length-1;o>=0;o--)i=[t[o].apply(this,i)];return i[0]}},each:function(n,i,o){if(t&&n.forEach===t)n.forEach(i,o);else if(n.length===n.length+0)for(var s=0,r=n.length;s<r&&(!(s in n)||i.call(o,n[s],s)!==this.BREAK);s++);else for(s in n)if(i.call(o,n[s],s)===this.BREAK)break},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():n.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){return t!=t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}}}(),dat.controllers.Controller=function(t){var n=function(t,n){this.initialValue=t[n],this.domElement=document.createElement("div"),this.object=t,this.property=n,this.__onFinishChange=this.__onChange=void 0};return t.extend(n.prototype,{onChange:function(t){return this.__onChange=t,this},onFinishChange:function(t){return this.__onFinishChange=t,this},setValue:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),n}(dat.utils.common),dat.dom.dom=function(t){function n(n){return"0"===n||t.isUndefined(n)?0:(n=n.match(o),t.isNull(n)?0:parseFloat(n[1]))}var i={};t.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(n,o){t.each(n,function(t){i[t]=o})});var o=/(\d+(\.\d+)?)px/,s={makeSelectable:function(t,n){void 0===t||void 0===t.style||(t.onselectstart=n?function(){return!1}:function(){},t.style.MozUserSelect=n?"auto":"none",t.style.KhtmlUserSelect=n?"auto":"none",t.unselectable=n?"on":"off")},makeFullscreen:function(n,i,o){t.isUndefined(i)&&(i=!0),t.isUndefined(o)&&(o=!0),n.style.position="absolute",i&&(n.style.left=0,n.style.right=0),o&&(n.style.top=0,n.style.bottom=0)},fakeEvent:function(n,o,s,r){var s=s||{},a=i[o];if(!a)throw Error("Event type "+o+" not supported.");var l=document.createEvent(a);switch(a){case"MouseEvents":l.initMouseEvent(o,s.bubbles||!1,s.cancelable||!0,window,s.clickCount||1,0,0,s.x||s.clientX||0,s.y||s.clientY||0,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":a=l.initKeyboardEvent||l.initKeyEvent,t.defaults(s,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),a(o,s.bubbles||!1,s.cancelable,window,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.keyCode,s.charCode);break;default:l.initEvent(o,s.bubbles||!1,s.cancelable||!0)}t.defaults(l,r),n.dispatchEvent(l)},bind:function(t,n,i,o){return t.addEventListener?t.addEventListener(n,i,o||!1):t.attachEvent&&t.attachEvent("on"+n,i),s},unbind:function(t,n,i,o){return t.removeEventListener?t.removeEventListener(n,i,o||!1):t.detachEvent&&t.detachEvent("on"+n,i),s},addClass:function(t,n){if(void 0===t.className)t.className=n;else if(t.className!==n){var i=t.className.split(/ +/);-1==i.indexOf(n)&&(i.push(n),t.className=i.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return s},removeClass:function(t,n){if(n){if(void 0!==t.className){if(t.className===n)t.removeAttribute("class");else{var i=t.className.split(/ +/),o=i.indexOf(n);-1!=o&&(i.splice(o,1),t.className=i.join(" "))}}}else t.className=void 0;return s},hasClass:function(t,n){return RegExp("(?:^|\\s+)"+n+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){return t=getComputedStyle(t),n(t["border-left-width"])+n(t["border-right-width"])+n(t["padding-left"])+n(t["padding-right"])+n(t.width)},getHeight:function(t){return t=getComputedStyle(t),n(t["border-top-width"])+n(t["border-bottom-width"])+n(t["padding-top"])+n(t["padding-bottom"])+n(t.height)},getOffset:function(t){var n={left:0,top:0};if(t.offsetParent)do n.left+=t.offsetLeft,n.top+=t.offsetTop;while(t=t.offsetParent);return n},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}};return s}(dat.utils.common),dat.controllers.OptionController=function(t,n,i){var o=function(t,s,r){o.superclass.call(this,t,s);var a=this;if(this.__select=document.createElement("select"),i.isArray(r)){var l={};i.each(r,function(t){l[t]=t}),r=l}i.each(r,function(t,n){var i=document.createElement("option");i.innerHTML=n,i.setAttribute("value",t),a.__select.appendChild(i)}),this.updateDisplay(),n.bind(this.__select,"change",function(){a.setValue(this.options[this.selectedIndex].value)}),this.domElement.appendChild(this.__select)};return o.superclass=t,i.extend(o.prototype,t.prototype,{setValue:function(t){return t=o.superclass.prototype.setValue.call(this,t),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),t},updateDisplay:function(){return this.__select.value=this.getValue(),o.superclass.prototype.updateDisplay.call(this)}}),o}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.NumberController=function(t,n){var i=function(t,o,s){i.superclass.call(this,t,o),s=s||{},this.__min=s.min,this.__max=s.max,this.__step=s.step,t=(t=this.__impliedStep=n.isUndefined(this.__step)?0==this.initialValue?1:Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__step).toString(),this.__precision=t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0};return i.superclass=t,n.extend(i.prototype,t.prototype,{setValue:function(t){return void 0!==this.__min&&t<this.__min?t=this.__min:void 0!==this.__max&&t>this.__max&&(t=this.__max),void 0!==this.__step&&t%this.__step!=0&&(t=Math.round(t/this.__step)*this.__step),i.superclass.prototype.setValue.call(this,t)},min:function(t){return this.__min=t,this},max:function(t){return this.__max=t,this},step:function(t){return this.__step=t,this}}),i}(dat.controllers.Controller,dat.utils.common),dat.controllers.NumberControllerBox=function(t,n,i){var o=function(t,s,r){function a(){var t=parseFloat(u.__input.value);i.isNaN(t)||u.setValue(t)}function l(t){var n=d-t.clientY;u.setValue(u.getValue()+n*u.__impliedStep),d=t.clientY}function c(){n.unbind(window,"mousemove",l),n.unbind(window,"mouseup",c)}this.__truncationSuspended=!1,o.superclass.call(this,t,s,r);var d,u=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),n.bind(this.__input,"change",a),n.bind(this.__input,"blur",function(){a(),u.__onFinishChange&&u.__onFinishChange.call(u,u.getValue())}),n.bind(this.__input,"mousedown",function(t){n.bind(window,"mousemove",l),n.bind(window,"mouseup",c),d=t.clientY}),n.bind(this.__input,"keydown",function(t){13===t.keyCode&&(u.__truncationSuspended=!0,this.blur(),u.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return o.superclass=t,i.extend(o.prototype,t.prototype,{updateDisplay:function(){var t,n=this.__input;if(this.__truncationSuspended)t=this.getValue();else{t=this.getValue();var i=Math.pow(10,this.__precision);t=Math.round(t*i)/i}return n.value=t,o.superclass.prototype.updateDisplay.call(this)}}),o}(dat.controllers.NumberController,dat.dom.dom,dat.utils.common),dat.controllers.NumberControllerSlider=function(t,n,i,o,s){var r=function(t,i,o,s,a){function l(t){t.preventDefault();var i=n.getOffset(d.__background),o=n.getWidth(d.__background);return d.setValue(d.__min+(d.__max-d.__min)*((t.clientX-i.left)/(i.left+o-i.left))),!1}function c(){n.unbind(window,"mousemove",l),n.unbind(window,"mouseup",c),d.__onFinishChange&&d.__onFinishChange.call(d,d.getValue())}r.superclass.call(this,t,i,{min:o,max:s,step:a});var d=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),n.bind(this.__background,"mousedown",function(t){n.bind(window,"mousemove",l),n.bind(window,"mouseup",c),l(t)}),n.addClass(this.__background,"slider"),n.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return r.superclass=t,r.useDefaultStyles=function(){i.inject(s)},o.extend(r.prototype,t.prototype,{updateDisplay:function(){return this.__foreground.style.width=(this.getValue()-this.__min)/(this.__max-this.__min)*100+"%",r.superclass.prototype.updateDisplay.call(this)}}),r}(dat.controllers.NumberController,dat.dom.dom,dat.utils.css,dat.utils.common,".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}"),dat.controllers.FunctionController=function(t,n,i){var o=function(t,i,s){o.superclass.call(this,t,i);var r=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===s?"Fire":s,n.bind(this.__button,"click",function(t){return t.preventDefault(),r.fire(),!1}),n.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return o.superclass=t,i.extend(o.prototype,t.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),o}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.BooleanController=function(t,n,i){var o=function(t,i){o.superclass.call(this,t,i);var s=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),n.bind(this.__checkbox,"change",function(){s.setValue(!s.__prev)},!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return o.superclass=t,i.extend(o.prototype,t.prototype,{setValue:function(t){return t=o.superclass.prototype.setValue.call(this,t),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),t},updateDisplay:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,o.superclass.prototype.updateDisplay.call(this)}}),o}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.color.toString=(e=dat.utils.common,function(t){if(!(1==t.a||e.isUndefined(t.a)))return"rgba("+Math.round(t.r)+","+Math.round(t.g)+","+Math.round(t.b)+","+t.a+")";for(t=t.hex.toString(16);t.length<6;)t="0"+t;return"#"+t}),dat.color.interpret=function(t,n){var i,o,s=[{litmus:n.isString,conversions:{THREE_CHAR_HEX:{read:function(t){return null!==(t=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i))&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString())}},write:t},SIX_CHAR_HEX:{read:function(t){return null!==(t=t.match(/^#([A-F0-9]{6})$/i))&&{space:"HEX",hex:parseInt("0x"+t[1].toString())}},write:t},CSS_RGB:{read:function(t){return null!==(t=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/))&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:t},CSS_RGBA:{read:function(t){return null!==(t=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/))&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:t}}},{litmus:n.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:n.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:n.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(n.isNumber(t.r)&&n.isNumber(t.g)&&n.isNumber(t.b)&&n.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(n.isNumber(t.r)&&n.isNumber(t.g)&&n.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(n.isNumber(t.h)&&n.isNumber(t.s)&&n.isNumber(t.v)&&n.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(n.isNumber(t.h)&&n.isNumber(t.s)&&n.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}];return function(){o=!1;var t=arguments.length>1?n.toArray(arguments):arguments[0];return n.each(s,function(s){if(s.litmus(t))return n.each(s.conversions,function(s,r){if(i=s.read(t),!1===o&&!1!==i)return o=i,i.conversionName=r,i.conversion=s,n.BREAK}),n.BREAK}),o}}(dat.color.toString,dat.utils.common),dat.GUI=dat.gui.GUI=function(t,n,i,o,s,r,a,l,c,d,u,h,p,f,m){function g(t,n,i,d){if(void 0===n[i])throw Error("Object "+n+' has no property "'+i+'"');d.color?n=new u(n,i):(n=[n,i].concat(d.factoryArgs),n=o.apply(t,n)),d.before instanceof s&&(d.before=d.before.__li),$(t,n),f.addClass(n.domElement,"c"),i=document.createElement("span"),f.addClass(i,"property-name"),i.innerHTML=n.property;var h=document.createElement("div");return h.appendChild(i),h.appendChild(n.domElement),d=b(t,h,d.before),f.addClass(d,L.CLASS_CONTROLLER_ROW),f.addClass(d,typeof n.getValue()),function t(n,i,o){if(o.__li=i,o.__gui=n,m.extend(o,{options:function(t){return arguments.length>1?(o.remove(),g(n,o.object,o.property,{before:o.__li.nextElementSibling,factoryArgs:[m.toArray(arguments)]})):m.isArray(t)||m.isObject(t)?(o.remove(),g(n,o.object,o.property,{before:o.__li.nextElementSibling,factoryArgs:[t]})):void 0},name:function(t){return o.__li.firstElementChild.firstElementChild.innerHTML=t,o},listen:function(){return o.__gui.listen(o),o},remove:function(){return o.__gui.remove(o),o}}),o instanceof c){var s=new l(o.object,o.property,{min:o.__min,max:o.__max,step:o.__step});m.each(["updateDisplay","onChange","onFinishChange"],function(t){var n=o[t],i=s[t];o[t]=s[t]=function(){var t=Array.prototype.slice.call(arguments);return n.apply(o,t),i.apply(s,t)}}),f.addClass(i,"has-slider"),o.domElement.insertBefore(s.domElement,o.domElement.firstElementChild)}else if(o instanceof l){var d=function(t){return m.isNumber(o.__min)&&m.isNumber(o.__max)?(o.remove(),g(n,o.object,o.property,{before:o.__li.nextElementSibling,factoryArgs:[o.__min,o.__max,o.__step]})):t};o.min=m.compose(d,o.min),o.max=m.compose(d,o.max)}else o instanceof r?(f.bind(i,"click",function(){f.fakeEvent(o.__checkbox,"click")}),f.bind(o.__checkbox,"click",function(t){t.stopPropagation()})):o instanceof a?(f.bind(i,"click",function(){f.fakeEvent(o.__button,"click")}),f.bind(i,"mouseover",function(){f.addClass(o.__button,"hover")}),f.bind(i,"mouseout",function(){f.removeClass(o.__button,"hover")})):o instanceof u&&(f.addClass(i,"color"),o.updateDisplay=m.compose(function(t){return i.style.borderLeftColor=o.__color.toString(),t},o.updateDisplay),o.updateDisplay());o.setValue=m.compose(function(t){return n.getRoot().__preset_select&&o.isModified()&&_(n.getRoot(),!0),t},o.setValue)}(t,d,n),t.__controllers.push(n),n}function b(t,n,i){var o=document.createElement("li");return n&&o.appendChild(n),i?t.__ul.insertBefore(o,params.before):t.__ul.appendChild(o),t.onResize(),o}function $(t,n){var i=t.getRoot(),o=i.__rememberedObjects.indexOf(n.object);if(-1!=o){var s=i.__rememberedObjectIndecesToControllers[o];if(void 0===s&&(s={},i.__rememberedObjectIndecesToControllers[o]=s),s[n.property]=n,i.load&&i.load.remembered){if((i=i.load.remembered)[t.preset])i=i[t.preset];else{if(!i[C])return;i=i[C]}i[o]&&void 0!==i[o][n.property]&&(o=i[o][n.property],n.initialValue=o,n.setValue(o))}}}function y(t,n){t.domElement.style.width=n+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=n+"px"),t.__closeButton&&(t.__closeButton.style.width=n+"px")}function v(t,n){var i={};return m.each(t.__rememberedObjects,function(o,s){var r={};m.each(t.__rememberedObjectIndecesToControllers[s],function(t,i){r[i]=n?t.initialValue:t.getValue()}),i[s]=r}),i}function x(t,n,i){var o=document.createElement("option");o.innerHTML=n,o.value=n,t.__preset_select.appendChild(o),i&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function _(t,n){var i=t.__preset_select[t.__preset_select.selectedIndex];i.innerHTML=n?i.value+"*":i.value}t.inject(i);var E,C="Default";try{E="localStorage"in window&&null!==window.localStorage}catch(w){E=!1}var A,k,S=!0,T=!1,R=[],L=function(t){function n(){localStorage.setItem(document.location.href+".gui",JSON.stringify(o.getSaveObject()))}var i,o=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),f.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],t=t||{},t=m.defaults(t,{autoPlace:!0,width:L.DEFAULT_WIDTH}),t=m.defaults(t,{resizable:t.autoPlace,hideable:t.autoPlace}),m.isUndefined(t.load)?t.load={preset:C}:t.preset&&(t.load.preset=t.preset),m.isUndefined(t.parent)&&t.hideable&&R.push(this),t.resizable=m.isUndefined(t.parent)&&t.resizable,t.autoPlace&&m.isUndefined(t.scrollable)&&(t.scrollable=!0);var s=E&&"true"===localStorage.getItem(document.location.href+".isLocal");if(Object.defineProperties(this,{parent:{get:function(){return t.parent}},scrollable:{get:function(){return t.scrollable}},autoPlace:{get:function(){return t.autoPlace}},preset:{get:function(){return o.parent?o.getRoot().preset:t.load.preset},set:function(n){for(o.parent?o.getRoot().preset=n:t.load.preset=n,n=0;n<this.__preset_select.length;n++)this.__preset_select[n].value==this.preset&&(this.__preset_select.selectedIndex=n);o.revert()}},width:{get:function(){return t.width},set:function(n){t.width=n,y(o,n)}},name:{get:function(){return t.name},set:function(n){t.name=n,a&&(a.innerHTML=t.name)}},closed:{get:function(){return t.closed},set:function(n){t.closed=n,t.closed?f.addClass(o.__ul,L.CLASS_CLOSED):f.removeClass(o.__ul,L.CLASS_CLOSED),this.onResize(),o.__closeButton&&(o.__closeButton.innerHTML=n?L.TEXT_OPEN:L.TEXT_CLOSED)}},load:{get:function(){return t.load}},useLocalStorage:{get:function(){return s},set:function(t){E&&((s=t)?f.bind(window,"unload",n):f.unbind(window,"unload",n),localStorage.setItem(document.location.href+".isLocal",t))}}}),m.isUndefined(t.parent)){if(t.closed=!1,f.addClass(this.domElement,L.CLASS_MAIN),f.makeSelectable(this.domElement,!1),E&&s){o.useLocalStorage=!0;var r=localStorage.getItem(document.location.href+".gui");r&&(t.load=JSON.parse(r))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=L.TEXT_CLOSED,f.addClass(this.__closeButton,L.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),f.bind(this.__closeButton,"click",function(){o.closed=!o.closed})}else{void 0===t.closed&&(t.closed=!0);var a=document.createTextNode(t.name);f.addClass(a,"controller-name"),r=b(o,a),f.addClass(this.__ul,L.CLASS_CLOSED),f.addClass(r,"title"),f.bind(r,"click",function(t){return t.preventDefault(),o.closed=!o.closed,!1}),t.closed||(this.closed=!1)}t.autoPlace&&(m.isUndefined(t.parent)&&(S&&(k=document.createElement("div"),f.addClass(k,"dg"),f.addClass(k,L.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(k),S=!1),k.appendChild(this.domElement),f.addClass(this.domElement,L.CLASS_AUTO_PLACE)),this.parent||y(o,t.width)),f.bind(window,"resize",function(){o.onResize()}),f.bind(this.__ul,"webkitTransitionEnd",function(){o.onResize()}),f.bind(this.__ul,"transitionend",function(){o.onResize()}),f.bind(this.__ul,"oTransitionEnd",function(){o.onResize()}),this.onResize(),t.resizable&&function t(n){var i;function o(t){return t.preventDefault(),i=t.clientX,f.addClass(n.__closeButton,L.CLASS_DRAG),f.bind(window,"mousemove",s),f.bind(window,"mouseup",r),!1}function s(t){return t.preventDefault(),n.width+=i-t.clientX,n.onResize(),i=t.clientX,!1}function r(){f.removeClass(n.__closeButton,L.CLASS_DRAG),f.unbind(window,"mousemove",s),f.unbind(window,"mouseup",r)}n.__resize_handle=document.createElement("div"),m.extend(n.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),f.bind(n.__resize_handle,"mousedown",o),f.bind(n.__closeButton,"mousedown",o),n.domElement.insertBefore(n.__resize_handle,n.domElement.firstElementChild)}(this),o.getRoot(),t.parent||(i=o.getRoot(),i.width+=1,m.defer(function(){i.width-=1}))};return L.toggleHide=function(){T=!T,m.each(R,function(t){t.domElement.style.zIndex=T?-999:999,t.domElement.style.opacity=T?0:1})},L.CLASS_AUTO_PLACE="a",L.CLASS_AUTO_PLACE_CONTAINER="ac",L.CLASS_MAIN="main",L.CLASS_CONTROLLER_ROW="cr",L.CLASS_TOO_TALL="taller-than-window",L.CLASS_CLOSED="closed",L.CLASS_CLOSE_BUTTON="close-button",L.CLASS_DRAG="drag",L.DEFAULT_WIDTH=245,L.TEXT_CLOSED="Close Controls",L.TEXT_OPEN="Open Controls",f.bind(window,"keydown",function(t){"text"!==document.activeElement.type&&(72===t.which||72==t.keyCode)&&L.toggleHide()},!1),m.extend(L.prototype,{add:function(t,n){return g(this,t,n,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,n){return g(this,t,n,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.slice(this.__controllers.indexOf(t),1);var n=this;m.defer(function(){n.onResize()})},destroy:function(){this.autoPlace&&k.removeChild(this.domElement)},addFolder:function(t){if(void 0!==this.__folders[t])throw Error('You already have a folder in this GUI by the name "'+t+'"');var n={name:t,parent:this};return n.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(n.closed=this.load.folders[t].closed,n.load=this.load.folders[t]),n=new L(n),this.__folders[t]=n,t=b(this,n.domElement),f.addClass(t,"folder"),n},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var t=this.getRoot();if(t.scrollable){var n=f.getOffset(t.__ul).top,i=0;m.each(t.__ul.childNodes,function(n){t.autoPlace&&n===t.__save_row||(i+=f.getHeight(n))}),window.innerHeight-n-20<i?(f.addClass(t.domElement,L.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-n-20+"px"):(f.removeClass(t.domElement,L.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&m.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},remember:function(){if(m.isUndefined(A)&&((A=new p).domElement.innerHTML=n),this.parent)throw Error("You can only call remember on a top level GUI.");var t=this;m.each(Array.prototype.slice.call(arguments),function(n){0==t.__rememberedObjects.length&&function t(n){var i=n.__save_row=document.createElement("li");f.addClass(n.domElement,"has-save"),n.__ul.insertBefore(i,n.__ul.firstChild),f.addClass(i,"save-row");var o=document.createElement("span");o.innerHTML="&nbsp;",f.addClass(o,"button gears");var s=document.createElement("span");s.innerHTML="Save",f.addClass(s,"button"),f.addClass(s,"save");var r=document.createElement("span");r.innerHTML="New",f.addClass(r,"button"),f.addClass(r,"save-as");var a=document.createElement("span");a.innerHTML="Revert",f.addClass(a,"button"),f.addClass(a,"revert");var l=n.__preset_select=document.createElement("select");if(n.load&&n.load.remembered?m.each(n.load.remembered,function(t,i){x(n,i,i==n.preset)}):x(n,C,!1),f.bind(l,"change",function(){for(var t=0;t<n.__preset_select.length;t++)n.__preset_select[t].innerHTML=n.__preset_select[t].value;n.preset=this.value}),i.appendChild(l),i.appendChild(o),i.appendChild(s),i.appendChild(r),i.appendChild(a),E){var i=document.getElementById("dg-save-locally"),c=document.getElementById("dg-local-explain");i.style.display="block",i=document.getElementById("dg-local-storage"),"true"===localStorage.getItem(document.location.href+".isLocal")&&i.setAttribute("checked","checked");var d=function(){c.style.display=n.useLocalStorage?"block":"none"};d(),f.bind(i,"change",function(){n.useLocalStorage=!n.useLocalStorage,d()})}var u=document.getElementById("dg-new-constructor");f.bind(u,"keydown",function(t){t.metaKey&&(67===t.which||67==t.keyCode)&&A.hide()}),f.bind(o,"click",function(){u.innerHTML=JSON.stringify(n.getSaveObject(),void 0,2),A.show(),u.focus(),u.select()}),f.bind(s,"click",function(){n.save()}),f.bind(r,"click",function(){var t=prompt("Enter a new preset name.");t&&n.saveAs(t)}),f.bind(a,"click",function(){n.revert()})}(t),-1==t.__rememberedObjects.indexOf(n)&&t.__rememberedObjects.push(n)}),this.autoPlace&&y(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=v(this)),t.folders={},m.each(this.__folders,function(n,i){t.folders[i]=n.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=v(this),_(this,!1)},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[C]=v(this,!0)),this.load.remembered[t]=v(this),this.preset=t,x(this,t,!0)},revert:function(t){m.each(this.__controllers,function(n){this.getRoot().load.remembered?$(t||this.getRoot(),n):n.setValue(n.initialValue)},this),m.each(this.__folders,function(t){t.revert(t)}),t||_(this.getRoot(),!1)},listen:function(t){var n=0==this.__listening.length;this.__listening.push(t),n&&function t(n){0!=n.length&&h(function(){t(n)}),m.each(n,function(t){t.updateDisplay()})}(this.__listening)}}),L}(dat.utils.css,'<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>',".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n",dat.controllers.factory=function(t,n,i,o,s,r,a){return function(l,c,d,u){var h=l[c];return a.isArray(d)||a.isObject(d)?new t(l,c,d):a.isNumber(h)?a.isNumber(d)&&a.isNumber(u)?new i(l,c,d,u):new n(l,c,{min:d,max:u}):a.isString(h)?new o(l,c):a.isFunction(h)?new s(l,c,""):a.isBoolean(h)?new r(l,c):void 0}}(dat.controllers.OptionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.StringController=function(t,n,i){var o=function(t,i){function s(){r.setValue(r.__input.value)}o.superclass.call(this,t,i);var r=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),n.bind(this.__input,"keyup",s),n.bind(this.__input,"change",s),n.bind(this.__input,"blur",function(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}),n.bind(this.__input,"keydown",function(t){13===t.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return o.superclass=t,i.extend(o.prototype,t.prototype,{updateDisplay:function(){return n.isActive(this.__input)||(this.__input.value=this.getValue()),o.superclass.prototype.updateDisplay.call(this)}}),o}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.FunctionController,dat.controllers.BooleanController,dat.utils.common),dat.controllers.Controller,dat.controllers.BooleanController,dat.controllers.FunctionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.OptionController,dat.controllers.ColorController=function(t,n,i,o,s){function r(t,n,i,o){t.style.background="",s.each(l,function(s){t.style.cssText+="background: "+s+"linear-gradient("+n+", "+i+" 0%, "+o+" 100%); "})}var a=function(t,l){function c(t){p(t),n.bind(window,"mousemove",p),n.bind(window,"mouseup",d)}function d(){n.unbind(window,"mousemove",p),n.unbind(window,"mouseup",d)}function u(){var t=o(this.value);!1!==t?(m.__color.__state=t,m.setValue(m.__color.toOriginal())):this.value=m.__color.toString()}function h(){n.unbind(window,"mousemove",f),n.unbind(window,"mouseup",h)}function p(t){t.preventDefault();var i=n.getWidth(m.__saturation_field),o=n.getOffset(m.__saturation_field),s=(t.clientX-o.left+document.body.scrollLeft)/i,t=1-(t.clientY-o.top+document.body.scrollTop)/i;return t>1?t=1:t<0&&(t=0),s>1?s=1:s<0&&(s=0),m.__color.v=t,m.__color.s=s,m.setValue(m.__color.toOriginal()),!1}function f(t){t.preventDefault();var i=n.getHeight(m.__hue_field),o=n.getOffset(m.__hue_field),t=1-(t.clientY-o.top+document.body.scrollTop)/i;return t>1?t=1:t<0&&(t=0),m.__color.h=360*t,m.setValue(m.__color.toOriginal()),!1}a.superclass.call(this,t,l),this.__color=new i(this.getValue()),this.__temp=new i(0);var m=this;this.domElement=document.createElement("div"),n.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",n.bind(this.__input,"keydown",function(t){13===t.keyCode&&u.call(this)}),n.bind(this.__input,"blur",u),n.bind(this.__selector,"mousedown",function(){n.addClass(this,"drag").bind(window,"mouseup",function(){n.removeClass(m.__selector,"drag")})});var g,b=document.createElement("div");s.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),s.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),s.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),s.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),s.extend(b.style,{width:"100%",height:"100%",background:"none"}),r(b,"top","rgba(0,0,0,0)","#000"),s.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),(g=this.__hue_field).style.background="",g.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",g.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",g.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",g.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",g.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",s.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),n.bind(this.__saturation_field,"mousedown",c),n.bind(this.__field_knob,"mousedown",c),n.bind(this.__hue_field,"mousedown",function(t){f(t),n.bind(window,"mousemove",f),n.bind(window,"mouseup",h)}),this.__saturation_field.appendChild(b),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};a.superclass=t,s.extend(a.prototype,t.prototype,{updateDisplay:function(){var t=o(this.getValue());if(!1!==t){var n=!1;s.each(i.COMPONENTS,function(i){if(!s.isUndefined(t[i])&&!s.isUndefined(this.__color.__state[i])&&t[i]!==this.__color.__state[i])return n=!0,{}},this),n&&s.extend(this.__color.__state,t)}s.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var a=this.__color.v<.5||this.__color.s>.5?255:0,l=255-a;s.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+a+","+a+","+a+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,r(this.__saturation_field,"left","#fff",this.__temp.toString()),s.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+a+","+a+","+a+")",textShadow:this.__input_textShadow+"rgba("+l+","+l+","+l+",.7)"})}});var l=["-moz-","-o-","-webkit-","-ms-",""];return a}(dat.controllers.Controller,dat.dom.dom,dat.color.Color=function(t,n,i,o){function s(t,n,i){Object.defineProperty(t,n,{get:function(){return"RGB"===this.__state.space||a(this,n,i),this.__state[n]},set:function(t){"RGB"!==this.__state.space&&(a(this,n,i),this.__state.space="RGB"),this.__state[n]=t}})}function r(t,n){Object.defineProperty(t,n,{get:function(){return"HSV"===this.__state.space||l(this),this.__state[n]},set:function(t){"HSV"!==this.__state.space&&(l(this),this.__state.space="HSV"),this.__state[n]=t}})}function a(t,i,s){if("HEX"===t.__state.space)t.__state[i]=n.component_from_hex(t.__state.hex,s);else if("HSV"===t.__state.space)o.extend(t.__state,n.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v));else throw"Corrupted color state"}function l(t){var i=n.rgb_to_hsv(t.r,t.g,t.b);o.extend(t.__state,{s:i.s,v:i.v}),o.isNaN(i.h)?o.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=i.h}var c=function(){if(this.__state=t.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return c.COMPONENTS="r,g,b,h,s,v,hex,a".split(","),o.extend(c.prototype,{toString:function(){return i(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),s(c.prototype,"r",2),s(c.prototype,"g",1),s(c.prototype,"b",0),r(c.prototype,"h"),r(c.prototype,"s"),r(c.prototype,"v"),Object.defineProperty(c.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(c.prototype,"hex",{get:function(){return this.__state.space,this.__state.hex=n.rgb_to_hex(this.r,this.g,this.b),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),c}(dat.color.interpret,dat.color.math=function(){var t;return{hsv_to_rgb:function(t,n,i){var o=t/60-Math.floor(t/60),s=i*(1-n),r=i*(1-o*n),n=i*(1-(1-o)*n),t=[[i,n,s],[r,i,s],[s,i,n],[s,r,i],[n,s,i],[i,s,r]][Math.floor(t/60)%6];return{r:255*t[0],g:255*t[1],b:255*t[2]}},rgb_to_hsv:function(t,n,i){var o=Math.min(t,n,i),s=Math.max(t,n,i),o=s-o;return 0==s?{h:NaN,s:0,v:0}:(t=t==s?(n-i)/o:n==s?2+(i-t)/o:4+(t-n)/o,(t/=6)<0&&(t+=1),{h:360*t,s:o/s,v:s/255})},rgb_to_hex:function(t,n,i){return t=this.hex_with_component(0,2,t),t=this.hex_with_component(t,1,n),t=this.hex_with_component(t,0,i)},component_from_hex:function(t,n){return t>>8*n&255},hex_with_component:function(n,i,o){return o<<(t=8*i)|n&~(255<<t)}}}(),dat.color.toString,dat.utils.common),dat.color.interpret,dat.utils.common),dat.utils.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},dat.dom.CenteredDiv=function(t,n){var i=function(){this.backgroundElement=document.createElement("div"),n.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),t.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),n.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var i=this;t.bind(this.backgroundElement,"click",function(){i.hide()})};return i.prototype.show=function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),n.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"})},i.prototype.hide=function(){var n=this,i=function(){n.domElement.style.display="none",n.backgroundElement.style.display="none",t.unbind(n.domElement,"webkitTransitionEnd",i),t.unbind(n.domElement,"transitionend",i),t.unbind(n.domElement,"oTransitionEnd",i)};t.bind(this.domElement,"webkitTransitionEnd",i),t.bind(this.domElement,"transitionend",i),t.bind(this.domElement,"oTransitionEnd",i),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},i.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-t.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-t.getHeight(this.domElement)/2+"px"},i}(dat.dom.dom,dat.utils.common),dat.dom.dom,dat.utils.common);
    </script>
  </head>
  <body style="background: #fff; overflow: hidden;">
      <div id="container" style="cursor: pointer;" onclick="window.location='https://github.com/nanotheatre/Schematisation'"></div>
      <div id="anim" style="display: none;">
        <svg id="svgElement" width="682" height="682" version="1.1" viewBox="0 0 512 512">
          <path xmlns="http://www.w3.org/2000/svg" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" style="fill:none;stroke:#040404;stroke-width:19.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none" d="M 155.06245,336.7915 C 155.06245,334.834 155.07303,333.10375 155.06185,330.7915 155.05758,329.90425 155.38105,329.34775 154.71468,325.5415 154.27638,323.038 153.38268,318.769 153.02657,315.7915 151.44625,302.578 152.82265,288.52525 150.17703,275.2915 147.74058,263.104 143.2078,252.802 139.3333,240.7915 138.1477,237.1165 137.36432,234.0025 136.73605,230.2915 134.00733,214.174 133.52462,197.938 133.30952,181.5415 133.10433,165.89575 134.91797,147.907 143.27485,135.7915 148.24998,128.57875 155.98863,120.35688 161.55841,113.2915 171.80091,100.29872 185.53581,89.518667 199.31241,80.813497 205.43321,76.945897 212.83641,74.541317 219.56241,71.414197 229.60871,66.742897 239.93091,59.862697 251.06241,59.321577 258.17171,58.975977 265.09491,59.657947 272.06241,60.693697 275.90241,61.264527 278.82821,62.356747 282.56241,63.753927 286.65591,65.285277 289.67021,66.664447 293.06171,69.073897 296.11341,71.241927 299.37971,76.517497 301.24041,78.555997 303.41771,80.939867 304.26591,80.383517 305.07371,80.565847 307.27341,81.061967 309.09221,81.025217 311.06241,81.041497" id="path2613" class="large"></path><path xmlns="http://www.w3.org/2000/svg" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" style="fill:none;stroke:#030303;stroke-width:19.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none" d="M 322.74961,325.02963 C 318.86911,331.99923 313.34761,338.35105 310.14891,346.02963 309.25261,348.18236 308.62261,351.65253 308.31511,353.52963 307.48191,358.61583 309.55561,359.23166 306.25861,363.7912 305.73061,364.52111 300.88791,366.51078 300.38391,367.26806 297.30891,371.88566 299.19741,372.69093 298.68511,379.02963 298.05361,386.84965 295.26061,396.82713 293.06541,404.52963 288.77991,419.56938 285.89991,436.09113 282.17091,451.02963 281.00761,455.69013 280.10611,461.20863 280.01091,466.02963 279.98311,467.47038 280.21261,470.88888 280.54261,472.02588 281.58661,475.63113 283.05211,475.80138 284.49961,476.52963 M 204.24964,367.77963 C 206.16974,368.02225 207.8388,368.317 210.24964,368.52963 210.91227,368.58805 211.44956,368.51703 214.74964,369.13263 215.88116,369.34368 218.08834,369.78558 219.24964,369.90175 222.96454,370.27315 227.44901,370.02963 231.24961,370.02963 245.30051,370.02963 258.59221,368.23406 272.49961,367.09383 277.25451,366.70406 285.47611,365.53653 289.74961,365.52963 296.42391,365.51891 298.17061,365.92008 300.24961,367.02963 M 307.74961,365.52963 C 309.89541,365.52985 313.47811,365.94558 318.99961,366.25301 323.65411,366.5122 335.06991,368.61708 338.49961,369.06258 341.65341,369.47223 342.16111,369.27498 342.99961,369.27903 345.34111,369.29035 347.04591,369.27963 348.99961,369.27963 M 203.49964,367.77963 H 204.24964" id="path2645" class="large"></path><path xmlns="http://www.w3.org/2000/svg" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" style="fill:none;stroke:#040404;stroke-width:19.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;paint-order:normal" d="M 265.43481,166.66034 C 267.05771,165.31184 270.92341,164.23919 273.44641,163.41674 279.65681,161.39211 292.68001,156.01709 296.69641,154.54402 299.62181,153.47107 300.23751,153.93442 301.19531,153.91784" id="path2649" class="large"></path><path xmlns="http://www.w3.org/2000/svg" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" style="fill:none;stroke:#040404;stroke-width:19.8247;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none" d="M 140.91575,100.98975 C 140.909,100.18605 140.24728,99.2532 142.48287,97.154097 143.91005,95.814067 146.27345,94.502247 148.24445,93.249597 152.65295,90.447897 156.92832,87.982567 161.74445,85.403547 168.43872,81.818847 176.2097,79.237947 182.74445,75.467167 185.48315,73.886847 187.6475,72.434327 190.24445,70.505997 195.49557,66.606817 198.69613,63.388277 204.49445,61.191147 209.8217,59.172597 214.2857,57.716097 219.49445,55.978197 225.4232,54.000077 238.70345,47.866047 243.49445,46.202697 246.46595,45.171147 247.0892,45.516747 247.99441,45.489747 250.28721,45.421497 252.03391,45.478197 253.99441,45.478197" id="path2609-2" class="large"></path><path xmlns="http://www.w3.org/2000/svg" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" style="fill:none;stroke:#030303;stroke-width:19.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none" d="M 283.98211,57.298507 C 285.68661,57.083107 287.19431,56.706907 289.23331,56.627187 290.17131,56.590587 290.87661,56.152507 294.48211,57.559507 297.75921,58.838407 300.74061,59.963407 303.15291,62.591937 306.76871,66.531987 309.92201,71.710357 313.98501,75.425857 327.20001,87.510457 335.26441,101.06934 341.68291,118.04851 343.14311,121.91101 343.71121,125.27251 344.90451,129.29851 345.98391,132.93976 346.51431,136.27201 347.55971,139.79851 348.41401,142.68076 349.21671,145.01476 349.66101,148.04851 351.71921,162.10651 348.86621,175.52401 346.88491,189.29851 345.50211,198.91126 345.63451,208.90201 343.83511,218.54851 342.50431,225.68326 342.71661,232.40626 343.30221,239.54851 343.47341,241.63726 344.62191,246.14926 344.70201,247.79851 344.85861,251.02126 344.73201,251.47201 344.73211,252.29851 344.73231,254.62351 344.73211,256.34176 344.73211,258.29851 M 283.23211,57.298507 H 283.98211 M 351.48211,158.54851 H 359.73211" id="path2641" class="large"></path>
            </svg>
          </div>
          <script>
            (function(){var t,s;s=(function(){class t{constructor(t){var s,e,h,i;for(e=0,this.svg=t,h=(i=this.svg.childNodes).length;e<h;e++)"path"===(s=i[e]).tagName&&this.lines.push(s);this.getPoints()}getPoints(){var t,s,e,h,i,o,r,n,a;for(t=0,r=this.lines,n=[],s=r.length;t<s;t++){for(e=r[t],a=(h={}).totalLength=~~e.getTotalLength(),i=[];a>0;)o=e.getPointAtLength(a),i.push(o),a-=this.STEP_SIZE;h.pathData=i,h.classe=e.getAttribute("class"),n.push(this.paths.push(h))}return n}getPaths(){return this.paths}}return t.prototype.STEP_SIZE=1,t.prototype.ctx=null,t.prototype.lines=[],t.prototype.paths=[],t}).call(this),t=(function(){class t{constructor(t){this.draw=this.draw.bind(this),this.onmousemove=this.onmousemove.bind(this),this.paths=t,this.engine.integrator=new Verlet,this.avoidMouse=new Attraction,this.createParticles(),this.sketch.draw=this.draw,this.sketch.mousemove=this.onmousemove}setupGUI(){return this.gui.add(this,"AVOID_MOUSE_STRENGTH",5e3,15e3)}createParticles(){var t,s,e,h,i,o,r,n,a,c,u,g,l,p,f,d,$,y,v;for(e=0,s=0,i=(d=this.paths).length;e<i;e++)for(h=0,$=(c=d[e]).pathData,v="large"==(y=c.classe)?15:1,o=$.length;h<o;h++)u=$[h],n=1,r=20,a=new Particle(max(n,r)),t=100,"large"==y?(g=random(u.x+this.sketch.width/2-this.xOffset,u.x+this.sketch.width/2-this.xOffset+6),l=random(u.y+this.sketch.height/4-this.yOffset,u.y+this.sketch.height/4-this.yOffset+5)):(g=random(u.x+this.sketch.width/2-this.xOffset,u.x+this.sketch.width/2-this.xOffset),l=random(u.y+this.sketch.height/4-this.yOffset,u.y+this.sketch.height/4-this.yOffset)),p=new Vector(g,l),this.count++,a.setRadius(random(v)),a.moveTo(p),(f=new Attraction).target.x=u.x+(this.sketch.width/2-this.xOffset),f.target.y=u.y+(this.sketch.height/4-this.yOffset),f.strength=2800,a.behaviours.push(this.avoidMouse,f),a.classe=y,a.fixed="large"!=y,this.engine.particles.push(a);return this.avoidMouse.setRadius(100),this.avoidMouse.strength=-this.AVOID_MOUSE_STRENGTH}draw(){var t,s,e,h,i,o;for(this.engine.step(),this.avoidMouse.strength=-this.AVOID_MOUSE_STRENGTH,h=this.engine.particles,i=[],t=0,s=h.length;t<s;t++)o=((e=h[t]).classe,"#000"),this.sketch.beginPath(),this.sketch.arc(e.pos.x,e.pos.y,e.radius,0,2*Math.PI),this.sketch.fillStyle=o,i.push(this.sketch.fill());return i}onmousemove(){return this.avoidMouse.target.x=this.sketch.mouse.x,this.avoidMouse.target.y=this.sketch.mouse.y}}return t.prototype.AVOID_MOUSE_STRENGTH=5e3,t.prototype.engine=new Physics,t.prototype.sketch=Sketch.create({container:document.getElementById("container")}),t.prototype.yOffset=100,t.prototype.xOffset=Math.floor(window.innerWidth / 2),t.prototype.renderer=null,t}).call(this),window.onload=()=>{var e,h;return e=(h=new s(document.getElementById("svgElement"))).getPaths(),t=new t(e)}}).call(this);document.getElementsByTagName('canvas')[0].style.marginLeft = (Math.floor(window.innerWidth / 2) - 257)+"px";document.getElementsByTagName('canvas')[0].style.marginTop = '0px'

              var rtime;var timeout = false;var delta = 200;addEventListener("resize", (event) => {rtime = new Date();if (timeout === false) {document.getElementsByTagName('canvas')[0].style.visibility = 'hidden';timeout = true;setTimeout(resizeend, delta);}});function resizeend() {if (new Date() - rtime < delta) {setTimeout(resizeend, delta);} else {timeout = false;window.location.reload();}}

          </script>
        </body>
      </html>
